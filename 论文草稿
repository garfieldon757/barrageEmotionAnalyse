1 引言
    随着互联网的迅速普及，多媒体处理技术，网络传输、视频数据处理等相关技术快速发展，来自不同领域的视频数据正在以惊人的速度增长。近几年随着新媒体技术的发展，一种新类型的视频--弹幕视频再世界范围内变得愈来愈流行，其评论内容直接显示在视频界面上，当某个视频有很多评论是，视频界面上就会产生如同无数子弹飞过的效果。目前国内最著名的量大弹幕视频网站分别是AcFun和bilibili，网友简称A站和B站。
    用户可以在观看网络视频中发表自己的实时评论，并与其他用户产生共鸣或者互动。在用户所发的弹幕中，往往包含着于视频之于当前片段的情感相吻合的文字，这对展开进一步的研究起到很好的帮助作用。作为一种新型的
消息传递方式，弹幕评论与传统的短文本有着很大区别，主要表现在两个方面：1）弹幕内容与视频时间节点有着高度相关性，可以反映一定的剧情情感波动；2）内容口语化，符号化。用户往往通过当下流行的热门词语，通过隐喻的方式表达自己当前的情感。
    目前，基于视频弹幕数据的弹幕分析研究工作相对较少。其中，有人采用数据可视化的形式将弹幕包含的情感值进行了分析和展示；其次，有人通过识别弹幕密集区域的情感波动，进行了精彩视频片段的推荐；以上两个研究工作都参照了传统的短文本情感分析手段进行研究，但是忽略了一个重要问题：弹幕视频内容口语化符号化，大量的通过单词或短语，借用隐喻的表达方式表达情感；而这些不包含主观情感词汇的客观词在传统的情感分析手段下，会被忽略，从而造成情感分析的不全面。
    针对上述提出的问题，本文提出了一种基于情感分析的模型，利用弹幕的时间相关特性，计算出弹幕中的主观弹幕的情感值，映射给相关的客观词。其中，需要先识别出一小段弹幕密集区域的弹幕数据，这段视频片段中的弹幕数据我们认为情感值高度相关；然后进行弹幕语料主客观分类；其次，对主观词，利用监督学习算法进行细粒度的情感层次分类；另外，针对客观词，提取高频出现的短语或短语搭配；最后，将主观词计算出的情感值和客观高频短语进行映射。

2 弹幕情感分析的需求及技术思路
    1.1 情感分析在网络评论领域的应用现状
        目前针对网络评论的情感分析应用研究多集中再网络舆论和商品评论两个领域。例如，利用情感分析技术对微博舆论中的热点话题、公众观点等进行提取，或者面对商品的用户在线评论进行褒贬识别。
        根据情感分类的方法，情感分析在微博、网络商品评论领域的应用研究可分为两大类。
        机器学习方法主要是用用机器学习模型，队训练机的情感特征进行学习，估计系统输入输出之间依赖关系，从而应用于对测试机的分类判断。Pang等利用支持向量机，朴素贝叶斯、最大伤三种方法对电影评论进行分类，发现支持向量机的分类效果最好，而最大熵和朴素贝叶斯的分类效果相当。刘志明等研究发现，采用支持向量机的机器学习算法、信息增益的特征选取算法和TF-IDF的特征项权重计算方法，三者的结合对微博段文本的情感分类效果最好。Yu等则认为通过机器学习方法对新闻进行自动情感分类时，同时选取形容词、副词和名次作为情感特征项比选取单一词性的效果要好。
        基于情感词的方法通常是现构建一个情感词典，词典中包含情感词所属的类别及对应的情感值，如正整数值表示正向情感，负整数值表示负向情感。Hu等对每一条用户使用反馈中各类别情感词的数量进行统计，在此基础上判断用户对产品的情感倾向。为了进一步量化用户评论的情感，Yu等把一条评论中所有的情感词的情感之平均数作为该条评论的情感值。Kim等考虑到否定词和双重否定对情感之的影响，采用成绩发判断某一条评论的极性。Yang等通过定义情感词权重词典、否定词词典、成都次词典及感叹词词典，综合考虑计算每条微博的情感指数。
    1.2 情感分析在视频评论领域的应用需求
        随着网络视频资源的日渐丰富，网络视频用户的数量也在不断增加。用户观看视频后在视频网站、影视论坛等留下的影评能够一定成熟上影响其他用户的观看选择。一般的评论界面大多位于视频界面的下方，用户一般是在观看前或者观看后浏览评论区。与传统评论模式不同，弹幕评论的文本可以直接显示在视频界面内，即用户可以在观看视频的过程中即使分享自己的感受、观点。包含大量个人观点的弹幕评论作为弹幕视频的重要组成部分，也成为网络视频用户对食品进行二次编辑的一种方式。
        目前针对网络视频弹幕的研究多集中在文化传播领域。弹幕视频的流行是“吐槽”文化发展的结果和动力。社交平台是的人与人之间都能形成交流、互动，而各种影视作品、原创视频更是经常成为讨论的热点。为了满足观众的吐槽欲望，弹幕视频营运热盛，他是观看视频和评论视频同时进行，观众可以最大限度的发表对食品的蚕坛或批评，形成现场直播式的互动。随着弹幕功能的流行，弹幕数据中的情感倾向和观点会更具普遍性和参考性，这些情感信息可以为用户在选择视频时提供参考，满足更多元、个性化的视频检索需求。
        尽管已有研究针对弹幕进行情感分析，但是发现参照的研究方法是传统的情感分析手段，刻意剔除了客观语料，仅提取了主观语料进行情感值计算。原因是认为客观语料不包含有带有情感成分的语料。
        但是在当今web在线社交交流中，每天都会有很多的网络新词出现，网友们尤其喜欢用这种客观语料性质的网络新词或短语进行交流，通过“隐喻”的方式表达自己的观点和抒发情感。这种新型表达方式目前非常流行，尤其在弹幕这种媒介中特别流行。那这里所谓的客观语料其实可能包含大量的情感成分，不应再被剔除出去，反而应该被做单独的情感分析，整合进入完整的弹幕情感分析模型中。
        综上所述，基于结合客观语料的弹幕情感分析具备一定的应用需求，弹幕数据即使很有价值的情感分析数据来源。
    1.3 结合客观语料的弹幕情感分析的技术思路
        客观语料的情感分析的目的是按照提取出客观语料的情感值，任务包括主客观弹幕分类、主观弹幕情感分析和评分、客观弹幕中网络新词提取、主观弹幕情感分和客观新词映射。
        弹幕的主客观分类又称为主观弹幕识别，是指对弹幕的文本进行分析后，过滤掉不带情感色彩啊的客观弹幕，获取含有情感倾向那个的主观句集合的过程。其中主观句识别的关键是情感特征的识别。
        主观弹幕分类方法主要分为两种，分别是机器学习方法和基于情感词的方法。
    1.4 情感语料
        本文语料库使用的是大连理工大学信息检索研究室开源发布的情感词汇本体库，该语料已经广泛用于中文情感的研究。
        该语料库的情感分类体系是在国外比较有影响的Ekman的6大类情感分类体系的基础上构建的，加入情感类别“好”对褒义情感进行了更细致的划分。最终词汇本体中的情感共分为7大类21小类。共含有情感词共计27466个，情感强度分为5个等级。
        构造该资源的宗旨是在情感计算领域，为中文文本情感分析和倾向性分析提供一个便捷可靠的辅助手段。中文情感词汇本体可以用于解决多类别情感分类的问题。

